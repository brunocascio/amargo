server:
  port: 3000
  host: "0.0.0.0"
  # Enable HTTP cache headers
  cache:
    enabled: true
    maxAge: 3600 # 1 hour default

database:
  url: "${DATABASE_URL}"

storage:
  # Default storage provider
  default: "s3"
  
  providers:
    s3:
      type: "s3"
      endpoint: "${S3_ENDPOINT}"
      accessKey: "${S3_ACCESS_KEY}"
      secretKey: "${S3_SECRET_KEY}"
      bucket: "${S3_BUCKET}"
      region: "${S3_REGION:-us-east-1}"
      forcePathStyle: ${S3_FORCE_PATH_STYLE:-false}
    
    gcs:
      type: "gcs"
      keyFile: "${GCS_KEY_FILE}"
      bucket: "${GCS_BUCKET}"
    
    azure:
      type: "azure"
      connectionString: "${AZURE_STORAGE_CONNECTION_STRING}"
      container: "${AZURE_CONTAINER}"

repositories:
  # NPM repository (proxy)
  npm:
    format: "npm"
    type: "proxy"
    enabled: true
    upstream: "https://registry.npmjs.org"
    cacheTtl: 3600 # 1 hour
    path: "/npm"
  
  # Docker proxy to Docker Hub
  docker-proxy:
    format: "docker"
    type: "proxy"
    enabled: true
    upstream: "https://registry-1.docker.io"
    cacheTtl: 1800 # 30 minutes
    path: "/v2/docker-proxy"
  
  # Docker proxy to Nexus
  docker-nexus:
    format: "docker"
    type: "proxy"
    enabled: true
    upstream: "https://nexus.example.com:5000"
    cacheTtl: 1800 # 30 minutes
    path: "/v2/docker-nexus"

  # PyPI repository (proxy)
  pypi:
    format: "pypi"
    type: "proxy"
    enabled: true
    upstream: "https://pypi.org"
    cacheTtl: 7200 # 2 hours
    path: "/pypi"

  # Go module proxy
  go:
    format: "go"
    type: "proxy"
    enabled: true
    upstream: "https://proxy.golang.org"
    cacheTtl: 86400 # 24 hours - Go modules are immutable
    path: "/go"

  # Maven repository
  maven:
    format: "maven"
    type: "proxy"
    enabled: true
    upstream: "https://repo1.maven.org/maven2"
    cacheTtl: 86400 # 24 hours - Maven artifacts are immutable
    path: "/maven"

  # NuGet repository
  nuget:
    format: "nuget"
    type: "proxy"
    enabled: true
    upstream: "https://api.nuget.org"
    cacheTtl: 86400 # 24 hours - NuGet packages are immutable
    path: "/nuget"

# Repository groups - combine multiple repositories
groups:
  # Docker group: combines hosted + proxy + nexus
  docker:
    format: "docker"
    enabled: true
    path: "/v2"
    members:
      - name: "docker-nexus"
        priority: 1  # Finally check Nexus proxy
      - name: "docker-proxy"
        priority: 2  # Then check Docker Hub proxy
  
  # NPM group (example for future expansion)
  npm-public:
    format: "npm"
    enabled: true
    path: "/npm-group"
    members:
      - name: "npm"
        priority: 1

  # PyPI group: combines multiple PyPI proxies
  pypi:
    format: "pypi"
    enabled: true
    path: "/pypi"
    members:
      - name: "pypi"
        priority: 1  # Check public PyPI first

  # Go group: combines multiple Go proxies
  go:
    format: "go"
    enabled: true
    path: "/go"
    members:
      - name: "go"
        priority: 1  # Check public Go proxy first

  # Maven group: combines multiple Maven proxies
  maven:
    format: "maven"
    enabled: true
    path: "/maven"
    members:
      - name: "maven"
        priority: 1  # Check Maven Central first

  # NuGet group: combines multiple NuGet proxies
  nuget:
    format: "nuget"
    enabled: true
    path: "/nuget"
    members:
      - name: "nuget"
        priority: 1  # Check NuGet.org first

cache:
  # Global cache settings
  cleanupInterval: 3600 # 1 hour
  maxSize: "100GB" # Per repository
  
  # Repository-specific overrides
  repositories:
    docker:
      maxSize: "500GB" # Docker images are larger
      
logging:
  level: "info"
  format: "json"